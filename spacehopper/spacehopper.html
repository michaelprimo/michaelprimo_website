<!doctype html>
<head>
	<title>Space Hopper ~ js1024 (1k demo)</title>
	<meta name="author" content="Michael Primo"></meta>
	<meta name="description" content="Hop into space and avoid asteroids!"></meta>
	<meta name="title" content="Space Hopper 1k demo"></meta>
	<meta charset=utf-8>
</head>
<body id=b>
<canvas id=a></canvas>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
#a { position: relative; display: block;}
.play { position: fixed; top: 50%; left: 50%; transform: translateX(-50%)translateY(-50%); font-size: 30px; font-family: arial, sans-serif; background: #f3f4f5; padding: 15px; border: 2px solid #ddd; border-radius: 5px; }
</style>

<script>

// Entry configuration
// ===================

var title = "Title"; // this will be assigned automatically

// Shim setup and polyfills (do not edit)
// ======================================

// canvas automatically adjusted !
a.width = innerWidth;
a.height = innerHeight;

c = a.getContext("2d"); // no more $type conditional

d = document;
window.AudioContext = window.AudioContext || window.webkitAudioContext;
window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
a.requestPointerLock = a.requestPointerLock || a.mozRequestPointerLock || a.webkitRequestPointerLock;
navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
if (typeof OscillatorNode !== 'undefined' && OscillatorNode.prototype) {
  OscillatorNode.prototype.start = OscillatorNode.prototype.start || OscillatorNode.prototype.noteOn;
  OscillatorNode.prototype.stop = OscillatorNode.prototype.stop || OscillatorNode.prototype.noteOff;
}

// Add a start button if sound is present in the code
onload = () => {
  var entry_code = entry.innerText;
  var has_sound = false;
  if(entry_code.includes('eval')){
    try {
      eval(entry_code.replace(/eval\(/g, 'throw(').replace(/eval\`/g, 'throw`'));
    }
    catch(e){
      entry_code = e;
    }
  }
  if(entry_code.includes("AudioContext")||entry_code.includes("Oscillator")||entry_code.includes("speak")||entry_code.includes("play")||entry_code.includes("autoplay")){
    b.insertAdjacentHTML("beforeEnd", "<button class='play' onclick='console.log(entry.innerText);eval(entry.innerText);this.remove()'>PLAY</button>");
  }
  else {
    eval(entry.innerText);
  }
};
console.log(
  a, // canvas
  b, // body
  c, // 2D canvas context
  d  // document
);

</script>

<script type=text id=entry>
// Your entry goes here üëá
// =======================
for(_='),__o.^==Z1ZY*vX"+Wu==Math.c.fillText("te=wa.widthtion=[],q="++,*-vor(Style="#",x,y_&&(Zd)Zd||[i]		=n()*(func(){i=0;99>i;i++)c.font=9>RC==h/9*vh seriflocalStorage.gfh=a.height,w=,v=h/99,x/2,y=k4,s=V/297,f=s/4,T=p=d=g=O=e=l=A=q=C=R=E=L=M=1,rtSI=["ü••"üåï"ü•§"üßÅ"],nrandom,rw,th,Sf;setInrval(if(Yg){f1<e=_l>e=l_,104Rect(0,0,w,h_S	+"r	+=S	/5*l,r	>r	=0_üåür	,t	);"5c.xtAlign="cenrüëæfffLV: Wl+"/We,x,5X_ü••xWE+" ü•§xWL+" üßÅxWM,x,10X_"9I[C],O,k_O+=s,(O>+7X||O<=7)R=99*n(_93_82_70_61_ltriangle1,dflo4*n()_0>s?s=-s+f:s+=f,(01k6_(23k4_(02O=6_(13O+4X,s=-s)_O-x<=6X&&O-x>=6&&yZksquare0ZC&&E2ZCLs/=2_3ZCMl++_YCsawtoothüí•0<E?E--:g=0_1,O=15_Yum=new AudioConxt,o=m.creaOscillat^type=q,o.connect(m.destina^start(^stop(.1_0)}}_9_a.addEventLisner("clickYg?(‚ú®YT?y6:y4,T=-T,sine1):loca.reload(!1)}))';G=/[-W-Z^_]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

//THE END. THANKS FOR WATCHING! WE WILL SEE YOU IN THE NEXT EPISODE!
//Github: https://github.com/michaelprimo
// =======================
</script>
</body>

